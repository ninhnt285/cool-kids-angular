<div class="grid">
  <div class="col-12">
		<div class="card">
			<h5>User Management</h5>
			<p-table #dt1 [value]="users" dataKey="id" [rows]="100" [loading]="loading" [rowHover]="true" styleClass="p-datatable-gridlines" [globalFilterFields]="['name','email']" responsiveLayout="scroll">
				<ng-template pTemplate="header">
					<tr>
						<th id="name" style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								<span>Name</span>
							</div>
						</th>
						<th id="email" style="min-width: 12rem">
							<div class="flex justify-content-between align-items-center">
								<span>Email</span>
							</div>
						</th>
						<th id="role" style="min-width: 14rem">
							<div class="flex justify-content-between align-items-center">
								<span>Role</span>
							</div>
						</th>
            <th *ngIf="authUser && authUser.role==1" id="action" style="min-width: 14rem">
							<div class="flex justify-content-between align-items-center">
								<span>Action</span>
							</div>
						</th>
					</tr>
				</ng-template>

				<ng-template pTemplate="body" let-user>
					<tr>
						<td>
							{{user.name}}
						</td>
						<td>
							{{user.email}}
						</td>
						<td>
              <p [ngSwitch]="user.role">
                <!-- the same view can be shown in more than one case -->
                <span *ngSwitchCase="1">Administrator</span>
                <span *ngSwitchCase="2">Staff</span>
                <span *ngSwitchDefault="3">Registered User</span>
              </p>
						</td>
            <td *ngIf="authUser && authUser.role==1 && user.id != 1" id="action" style="min-width: 14rem">
              <p-button icon="pi pi-pencil" styleClass="p-button-secondary ml-2" (onClick)="showEdit(user)"></p-button>
            </td>
					</tr>
				</ng-template>
      </p-table>
		</div>
	</div>
</div>